

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>AS-series programming &mdash; Project Bureau  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="BE-series programming" href="be.html" />
    <link rel="prev" title="JTAG programming" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

  
    

  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Project Bureau
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../outline.html">Functional outline (WIP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../naming.html">Naming conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../options/logic.html">Macrocell options (WIP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../options/buffer.html">I/O buffer options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../options/power.html">Power control options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../options/program.html">Programming options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schema.html">Database schema (WIP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explore.html">Database explorer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">JTAG programming</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">AS-series programming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jtag-instructions">JTAG instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-layout">Memory layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="#programming-flows">Programming flows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#read-ues">Read UES</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable">Enable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#disable">Disable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#erase">Erase</a></li>
<li class="toctree-l4"><a class="reference internal" href="#program">Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read">Read</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fuse-packing">Fuse packing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#atf1502as">ATF1502AS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#atf1504as">ATF1504AS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#atf1508as">ATF1508AS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="be.html">BE-series programming</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Command-line tools</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Project Bureau</a>
        
      </nav>


      <div class="wy-nav-content">
    
        
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">JTAG programming</a> &raquo;</li>
        
      <li>AS-series programming</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/jtag/as.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="as-series-programming">
<h1>AS-series programming<a class="headerlink" href="#as-series-programming" title="Permalink to this headline">¶</a></h1>
<p>ATF15xxAS devices are always controlled by the contents of the integrated Flash memory. They are in-system programmable via <a class="reference external" href="https://en.wikipedia.org/wiki/JTAG">JTAG</a> using a command set close to but not entirely compatible with <a class="reference external" href="https://standards.ieee.org/standard/1532-2000.html">IEEE 1532</a>.</p>
<p>See also <a class="reference internal" href="../options/program.html"><span class="doc">programming options</span></a>.</p>
<div class="section" id="jtag-instructions">
<span id="jtagas-instrs"></span><h2>JTAG instructions<a class="headerlink" href="#jtag-instructions" title="Permalink to this headline">¶</a></h2>
<p>AS-series CPLDs have a 10 bit long instruction register, and support the following programming-related JTAG instructions:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>IR value</p></th>
<th class="head"><p>Selected DR</p></th>
<th class="head"><p>DR length</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IDCODE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">059</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IDCODE</span></code></p></td>
<td><p>32</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ATF_READ_UES</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">270</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">UES</span></code></p></td>
<td><p>16</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ATF_CONFIG</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">280</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLASH_KEY</span></code></p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ATF_READ</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">28c</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BYPASS</span></code></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ATF_DATA0..3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">290..293</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLASH_DATA</span></code></p></td>
<td><p>varies</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ATF_PROGRAM_ERASE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">29e</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BYPASS</span></code></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ATF_ADDRESS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2a1</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLASH_ADDR</span></code></p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ATF_LATCH_ERASE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2b3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BYPASS</span></code></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ATF_UNKNOWN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2bf</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BYPASS</span></code></p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Update the description and usage for the <code class="docutils literal notranslate"><span class="pre">ATF_UNKNOWN</span></code> instruction based on recent discoveries.</p>
</div>
</div>
<div class="section" id="memory-layout">
<span id="jtagas-layout"></span><h2>Memory layout<a class="headerlink" href="#memory-layout" title="Permalink to this headline">¶</a></h2>
<p>The geometry of the Flash memory varies with the CPLD density. The following table describes the memory layouts for all device densities:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Device</p></th>
<th class="head" colspan="2"><p>ATF1502AS</p></th>
<th class="head" colspan="2"><p>ATF1504AS</p></th>
<th class="head" colspan="2"><p>ATF1508AS</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Region</p></th>
<th class="head"><p>Address(es)</p></th>
<th class="head"><p>Width</p></th>
<th class="head"><p>Address(es)</p></th>
<th class="head"><p>Width</p></th>
<th class="head"><p>Address(es)</p></th>
<th class="head"><p>Width</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>A-side</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">00..6c</span></code></p></td>
<td><p>86</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">00..6c</span></code></p></td>
<td><p>166</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">00..6c</span></code></p></td>
<td><p>326</p></td>
</tr>
<tr class="row-even"><td><p>B-side</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">80..e5</span></code></p></td>
<td><p>86</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">80..e9</span></code></p></td>
<td><p>166</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">80..fb</span></code></p></td>
<td><p>326</p></td>
</tr>
<tr class="row-odd"><td><p>Config</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">100</span></code></p></td>
<td><p>32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">100</span></code></p></td>
<td><p>32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">100</span></code></p></td>
<td><p>32</p></td>
</tr>
<tr class="row-even"><td><p>JTAG</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">200</span></code></p></td>
<td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">200</span></code></p></td>
<td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">200</span></code></p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>UES</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">300</span></code></p></td>
<td><p>16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">300</span></code></p></td>
<td><p>16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">300</span></code></p></td>
<td><p>16</p></td>
</tr>
</tbody>
</table>
<p>During <a class="reference internal" href="#flowas-program"><span class="std std-ref">programming</span></a> or <a class="reference internal" href="#flowas-read"><span class="std std-ref">reading</span></a>, the actual DR size is determined by the contents of <code class="docutils literal notranslate"><span class="pre">FLASH_ADDR</span></code> and the table above.</p>
</div>
<div class="section" id="programming-flows">
<span id="jtagas-flows"></span><h2>Programming flows<a class="headerlink" href="#programming-flows" title="Permalink to this headline">¶</a></h2>
<p>In all programming flows below, after shifting into IR or DR, enter Run-Test/Idle.</p>
<div class="section" id="read-ues">
<span id="flowas-read-ues"></span><h3>Read UES<a class="headerlink" href="#read-ues" title="Permalink to this headline">¶</a></h3>
<p>To read the user signature <code class="docutils literal notranslate"><span class="pre">ues</span></code>:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_READ_UES</span></code> into IR.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ues</span></code> out of DR.</p></li>
<li><p>Bit-reverse <code class="docutils literal notranslate"><span class="pre">ues</span></code>.</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="enable">
<span id="flowas-enable"></span><h3>Enable<a class="headerlink" href="#enable" title="Permalink to this headline">¶</a></h3>
<p>To enter programming mode:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_CONFIG</span></code> into IR.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">1b9</span></code> into DR.</p></li>
</ol>
</div></blockquote>
<p>This sequence disables normal operation and enables programming operations. It also disables the output buffers. If bus keepers are enabled with the corresponding fuse, the outputs will weakly hold their current state during programming.</p>
</div>
<div class="section" id="disable">
<span id="flowas-disable"></span><h3>Disable<a class="headerlink" href="#disable" title="Permalink to this headline">¶</a></h3>
<p>To leave programming mode:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_CONFIG</span></code> into IR.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">000</span></code> into DR.</p></li>
</ol>
</div></blockquote>
<p>This sequence disables programming operations and enables normal operation. It also resets both the macrocells and the JTAG TAP.</p>
</div>
<div class="section" id="erase">
<span id="flowas-erase"></span><h3>Erase<a class="headerlink" href="#erase" title="Permalink to this headline">¶</a></h3>
<p>To erase the currently programmed configuration:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_LATCH_ERASE</span></code> into IR.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_PROGRAM_ERASE</span></code> into IR.</p></li>
<li><p>Wait 210 ms.</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="program">
<span id="flowas-program"></span><h3>Program<a class="headerlink" href="#program" title="Permalink to this headline">¶</a></h3>
<p>To program a configuration word <code class="docutils literal notranslate"><span class="pre">data</span></code> to address <code class="docutils literal notranslate"><span class="pre">addr</span></code>:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_ADDRESS</span></code> into IR.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">addr</span></code> into DR.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_DATA0</span> <span class="pre">+</span> <span class="pre">(addr</span> <span class="pre">&gt;&gt;</span> <span class="pre">8)</span></code> into IR.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">data</span></code> into DR.
DR length is determined by the address and the <a class="reference internal" href="#jtagas-layout"><span class="std std-ref">memory layout</span></a>.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_PROGRAM_ERASE</span></code> into IR.</p></li>
<li><p>Wait 30 ms.</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="read">
<span id="flowas-read"></span><h3>Read<a class="headerlink" href="#read" title="Permalink to this headline">¶</a></h3>
<p>To read a configuration word <code class="docutils literal notranslate"><span class="pre">data</span></code> from address <code class="docutils literal notranslate"><span class="pre">addr</span></code>:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_ADDRESS</span></code> into IR.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">addr</span></code> into DR.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_READ</span></code> into IR.</p></li>
<li><p>Wait 20 ms.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">ATF_DATA0</span> <span class="pre">+</span> <span class="pre">(addr</span> <span class="pre">&gt;&gt;</span> <span class="pre">8)</span></code> into IR.</p></li>
<li><p>Shift <code class="docutils literal notranslate"><span class="pre">data</span></code> out of DR.
DR length is determined by the address and the <a class="reference internal" href="#jtagas-layout"><span class="std std-ref">memory layout</span></a>.</p></li>
</ol>
</div></blockquote>
</div>
</div>
<div class="section" id="fuse-packing">
<span id="jtagas-fusemap"></span><h2>Fuse packing<a class="headerlink" href="#fuse-packing" title="Permalink to this headline">¶</a></h2>
<p>Running the place &amp; route tool produces a fuse map; a 1d sequence of fuses. However, the device’s Flash memory is organized as a series of words; a 2d array of cells. Fuses can be packed into and unpacked from the Flash memory by applying the permutations described below.</p>
<p>In all of the code fragments below, let <code class="docutils literal notranslate"><span class="pre">jed_index</span></code> be the index of a fuse, <code class="docutils literal notranslate"><span class="pre">svf_row</span></code> be the address of a word, and <code class="docutils literal notranslate"><span class="pre">svf_col</span></code> be the bit offset into the word. Then, packing and unpacking are bit copy operations between the two representations.</p>
<div class="section" id="atf1502as">
<h3>ATF1502AS<a class="headerlink" href="#atf1502as" title="Permalink to this headline">¶</a></h3>
<p>The following snippet implements the packing (<code class="docutils literal notranslate"><span class="pre">jed_to_svf_coords</span></code>) and unpacking (<code class="docutils literal notranslate"><span class="pre">svf_to_jed_coords</span></code>) permutations for ATF1502AS:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">jed_to_svf_coords</span><span class="p">(</span><span class="n">jed_index</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span>    <span class="mi">0</span><span class="p">,</span>  <span class="mi">7680</span><span class="p">):</span>
        <span class="k">return</span>  <span class="mi">12</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>     <span class="mi">0</span><span class="p">)</span>  <span class="o">%</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">79</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>     <span class="mi">0</span><span class="p">)</span> <span class="o">//</span> <span class="mi">96</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="mi">7680</span><span class="p">,</span> <span class="mi">15360</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">128</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>  <span class="mi">7680</span><span class="p">)</span>  <span class="o">%</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">79</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>  <span class="mi">7680</span><span class="p">)</span> <span class="o">//</span> <span class="mi">96</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15360</span><span class="p">,</span> <span class="mi">16320</span><span class="p">):</span>
        <span class="k">return</span>   <span class="mi">0</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">15360</span><span class="p">)</span> <span class="o">//</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">79</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">15360</span><span class="p">)</span>  <span class="o">%</span> <span class="mi">80</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16320</span><span class="p">,</span> <span class="mi">16720</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">224</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">16320</span><span class="p">)</span>  <span class="o">%</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">79</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">16320</span><span class="p">)</span> <span class="o">//</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16720</span><span class="p">,</span> <span class="mi">16750</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">224</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">16320</span><span class="p">)</span>  <span class="o">%</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">85</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">16320</span><span class="p">)</span> <span class="o">//</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">80</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16750</span><span class="p">,</span> <span class="mi">16782</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">31</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">16750</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16782</span><span class="p">,</span> <span class="mi">16786</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">512</span><span class="p">,</span>  <span class="mi">3</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">16782</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16786</span><span class="p">,</span> <span class="mi">16802</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">768</span><span class="p">,</span> <span class="mi">15</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">16786</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16802</span><span class="p">,</span> <span class="mi">16808</span><span class="p">):</span>
        <span class="k">return</span> <span class="c1"># reserved</span>
    <span class="k">assert</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">svf_to_jed_coords</span><span class="p">(</span><span class="n">svf_row</span><span class="p">,</span> <span class="n">svf_col</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">12</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">15360</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span>   <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="mi">80</span> <span class="o">+</span> <span class="p">(</span><span class="mi">79</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">108</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">):</span>
            <span class="k">return</span>     <span class="mi">0</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span>  <span class="mi">12</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">79</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span> <span class="o">*</span> <span class="mi">96</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">224</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">):</span>
            <span class="k">return</span>  <span class="mi">7680</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span> <span class="mi">128</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">79</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span> <span class="o">*</span> <span class="mi">96</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">224</span><span class="p">,</span> <span class="mi">229</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">16320</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span> <span class="mi">224</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">79</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span> <span class="o">*</span> <span class="mi">5</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">16720</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span> <span class="mi">224</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">85</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span> <span class="o">*</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="o">==</span> <span class="mi">256</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">16750</span> <span class="o">+</span> <span class="p">(</span><span class="mi">31</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="o">==</span> <span class="mi">512</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">16782</span> <span class="o">+</span> <span class="p">(</span> <span class="mi">3</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="o">==</span> <span class="mi">768</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">16786</span> <span class="o">+</span> <span class="p">(</span><span class="mi">15</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
    <span class="k">assert</span> <span class="kc">False</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="atf1504as">
<h3>ATF1504AS<a class="headerlink" href="#atf1504as" title="Permalink to this headline">¶</a></h3>
<p>The following snippet implements the packing (<code class="docutils literal notranslate"><span class="pre">jed_to_svf_coords</span></code>) and unpacking (<code class="docutils literal notranslate"><span class="pre">svf_to_jed_coords</span></code>) permutations for ATF1504AS:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">jed_to_svf_coords</span><span class="p">(</span><span class="n">jed_index</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span>    <span class="mi">0</span><span class="p">,</span>   <span class="mi">15360</span><span class="p">):</span>
        <span class="k">return</span>  <span class="mi">12</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>      <span class="mi">0</span><span class="p">)</span>  <span class="o">%</span> <span class="mi">96</span><span class="p">,</span>  <span class="mi">165</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>     <span class="mi">0</span><span class="p">)</span> <span class="o">//</span> <span class="mi">96</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15360</span><span class="p">,</span>   <span class="mi">30720</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">128</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>  <span class="mi">15360</span><span class="p">)</span>  <span class="o">%</span> <span class="mi">96</span><span class="p">,</span>  <span class="mi">165</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">15360</span><span class="p">)</span> <span class="o">//</span> <span class="mi">96</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30720</span><span class="p">,</span>   <span class="mi">32640</span><span class="p">):</span>
        <span class="k">return</span>   <span class="mi">0</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>  <span class="mi">30720</span><span class="p">)</span> <span class="o">//</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">165</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">30720</span><span class="p">)</span>  <span class="o">%</span> <span class="mi">160</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">32640</span><span class="p">,</span>   <span class="mi">34134</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">224</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>  <span class="mi">32640</span><span class="p">)</span>  <span class="o">%</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">165</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">32640</span><span class="p">)</span> <span class="o">//</span> <span class="mi">9</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">34134</span><span class="p">,</span> <span class="mi">34166</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">31</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">34134</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">34166</span><span class="p">,</span> <span class="mi">34170</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">512</span><span class="p">,</span>  <span class="mi">3</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">34166</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">34170</span><span class="p">,</span> <span class="mi">34186</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">768</span><span class="p">,</span> <span class="mi">15</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">34170</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">34186</span><span class="p">,</span> <span class="mi">34192</span><span class="p">):</span>
        <span class="k">return</span> <span class="c1"># reserved</span>
    <span class="k">assert</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">svf_to_jed_coords</span><span class="p">(</span><span class="n">svf_row</span><span class="p">,</span> <span class="n">svf_col</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">12</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">166</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">30720</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span>   <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="mi">160</span> <span class="o">+</span> <span class="p">(</span><span class="mi">165</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">108</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">166</span><span class="p">):</span>
            <span class="k">return</span>     <span class="mi">0</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span>  <span class="mi">12</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">165</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span> <span class="o">*</span> <span class="mi">96</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">224</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">166</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">15360</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span> <span class="mi">128</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">165</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span> <span class="o">*</span> <span class="mi">96</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">224</span><span class="p">,</span> <span class="mi">233</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">166</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">32640</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span> <span class="mi">224</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">165</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span> <span class="o">*</span> <span class="mi">9</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="o">==</span> <span class="mi">256</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">34134</span> <span class="o">+</span> <span class="p">(</span><span class="mi">31</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="o">==</span> <span class="mi">512</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">34166</span> <span class="o">+</span> <span class="p">(</span> <span class="mi">3</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="o">==</span> <span class="mi">768</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">34170</span> <span class="o">+</span> <span class="p">(</span><span class="mi">15</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
    <span class="k">assert</span> <span class="kc">False</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="atf1508as">
<h3>ATF1508AS<a class="headerlink" href="#atf1508as" title="Permalink to this headline">¶</a></h3>
<p>The following snippet implements the packing (<code class="docutils literal notranslate"><span class="pre">jed_to_svf_coords</span></code>) and unpacking (<code class="docutils literal notranslate"><span class="pre">svf_to_jed_coords</span></code>) permutations for ATF1508AS:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">jed_to_svf_coords</span><span class="p">(</span><span class="n">jed_index</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span>    <span class="mi">0</span><span class="p">,</span> <span class="mi">30720</span><span class="p">):</span>
        <span class="k">return</span>  <span class="mi">12</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>     <span class="mi">0</span><span class="p">)</span>  <span class="o">%</span>  <span class="mi">96</span><span class="p">,</span> <span class="mi">325</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span>     <span class="mi">0</span><span class="p">)</span> <span class="o">//</span> <span class="mi">96</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30720</span><span class="p">,</span> <span class="mi">61440</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">128</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">30720</span><span class="p">)</span>  <span class="o">%</span>  <span class="mi">96</span><span class="p">,</span> <span class="mi">325</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">30720</span><span class="p">)</span> <span class="o">//</span> <span class="mi">96</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">61440</span><span class="p">,</span> <span class="mi">65280</span><span class="p">):</span>
        <span class="k">return</span>   <span class="mi">0</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">61440</span><span class="p">)</span> <span class="o">//</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">325</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">61440</span><span class="p">)</span>  <span class="o">%</span> <span class="mi">320</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">65280</span><span class="p">,</span> <span class="mi">74082</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">224</span> <span class="o">+</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">65280</span><span class="p">)</span>  <span class="o">%</span>  <span class="mi">27</span><span class="p">,</span> <span class="mi">325</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">65280</span><span class="p">)</span> <span class="o">//</span> <span class="mi">27</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">74082</span><span class="p">,</span> <span class="mi">74114</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">31</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">74082</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">74114</span><span class="p">,</span> <span class="mi">74118</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">512</span><span class="p">,</span>  <span class="mi">3</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">74114</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">74118</span><span class="p">,</span> <span class="mi">74134</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">768</span><span class="p">,</span> <span class="mi">15</span> <span class="o">-</span> <span class="p">(</span><span class="n">jed_index</span> <span class="o">-</span> <span class="mi">74118</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jed_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">74134</span><span class="p">,</span> <span class="mi">74136</span><span class="p">):</span>
        <span class="k">return</span> <span class="c1"># reserved</span>
    <span class="k">assert</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">svf_to_jed_coords</span><span class="p">(</span><span class="n">svf_row</span><span class="p">,</span> <span class="n">svf_col</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">12</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">326</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">61440</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span>   <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="mi">320</span> <span class="o">+</span> <span class="p">(</span><span class="mi">325</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">108</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">326</span><span class="p">):</span>
            <span class="k">return</span>     <span class="mi">0</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span>  <span class="mi">12</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">325</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span> <span class="o">*</span> <span class="mi">96</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">224</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">326</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">30720</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span> <span class="mi">128</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">325</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span> <span class="o">*</span> <span class="mi">96</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">224</span><span class="p">,</span> <span class="mi">251</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">svf_col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">326</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">65280</span> <span class="o">+</span> <span class="p">(</span><span class="n">svf_row</span> <span class="o">-</span> <span class="mi">224</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">325</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span> <span class="o">*</span> <span class="mi">27</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="c1"># always 1</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="o">==</span> <span class="mi">256</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">74082</span> <span class="o">+</span> <span class="p">(</span><span class="mi">31</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="o">==</span> <span class="mi">512</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">74114</span> <span class="o">+</span> <span class="p">(</span> <span class="mi">3</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">svf_row</span> <span class="o">==</span> <span class="mi">768</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">74118</span> <span class="o">+</span> <span class="p">(</span><span class="mi">15</span> <span class="o">-</span> <span class="n">svf_col</span><span class="p">)</span>
    <span class="k">assert</span> <span class="kc">False</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="be.html" class="btn btn-neutral float-right" title="BE-series programming" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="JTAG programming" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019-2020, whitequark

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
    

      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>